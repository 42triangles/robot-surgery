[gd_scene load_steps=13 format=4 uid="uid://dpaxlkqtm7uq5"]

[ext_resource type="Script" path="res://scripts/scale_layer.gd" id="1_2i8hn"]
[ext_resource type="PackedScene" uid="uid://hbpgw80ffdmr" path="res://scenes/player_wadl.tscn" id="1_yixew"]
[ext_resource type="Texture2D" uid="uid://btd816cg45ld" path="res://sprites/environment/background_01.png" id="2_o2uxq"]
[ext_resource type="Script" path="res://scripts/parallaxhack.gd" id="3_041o1"]
[ext_resource type="PackedScene" uid="uid://cqq1uhv7kjtcx" path="res://scenes/lever.tscn" id="4_1ii6s"]
[ext_resource type="TileSet" uid="uid://dclyj7bjtpoa3" path="res://tilesets/environment.tres" id="4_11ug5"]
[ext_resource type="PackedScene" uid="uid://cn52d14tbhk4y" path="res://scenes/door.tscn" id="6_0r52n"]
[ext_resource type="PackedScene" uid="uid://nyairciy3dvb" path="res://scenes/button.tscn" id="7_403g8"]

[sub_resource type="SegmentShape2D" id="SegmentShape2D_jb65q"]
a = Vector2(-200, 0)
b = Vector2(200, 0)

[sub_resource type="Gradient" id="Gradient_w51v1"]
offsets = PackedFloat32Array(0, 0.338219, 1)
colors = PackedColorArray(0.470076, 0.470076, 0.470076, 1, 0.88, 0.72512, 0.5896, 1, 0.558893, 0.525335, 0.495973, 1)

[sub_resource type="Gradient" id="Gradient_dcy3c"]
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_btg2d"]
gradient = SubResource("Gradient_dcy3c")
width = 256
height = 256
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(0.5, 0)

[node name="Scale0" type="Node2D"]
script = ExtResource("1_2i8hn")

[node name="Parallax2D" type="Parallax2D" parent="."]
scroll_scale = Vector2(0.2, 0.2)

[node name="Sprite2D" type="Sprite2D" parent="Parallax2D"]
position = Vector2(300, 0)
scale = Vector2(1.5, 1.5)
texture = ExtResource("2_o2uxq")

[node name="Environment" type="Node2D" parent="."]
modulate = Color(0.793341, 0.813187, 0.578592, 1)
script = ExtResource("3_041o1")

[node name="TileMapLayer" type="TileMapLayer" parent="Environment"]
tile_map_data = PackedByteArray("AAD7/wEAAwABAAAAAQD8/wEAAwABAAAAAAD9/wEAAwACAAAAAAD7/wIAAwABAAEAAAD7/wMAAwABAAIAAQD8/wIAAwABAAEAAAD8/wMAAwABAAIAAAD9/wIAAwACAAEAAAD9/wMAAwACAAIAAAD6/wEAAwABAAAAAAD6/wIAAwABAAEAAAD6/wMAAwABAAIAAAD3/wEAAwAAAAAAAAD3/wIAAwAAAAEAAAD3/wMAAwAAAAIAAAD4/wEAAwABAAAAAAD4/wIAAwABAAEAAAD4/wMAAwABAAIAAAD5/wEAAwABAAAAAQD5/wIAAwABAAEAAAD5/wMAAwABAAIAAQD+/wEABQAAAAAAAAD+/wIABQAAAAEAAAD+/wMABQAAAAIAAAD//wEABQABAAAAAAD//wIABQABAAEAAAD//wMABQABAAIAAAD2//n/BQAAAAIAAAD3//n/BQABAAIAAAD4//n/BQABAAIAAQD5//n/BQABAAIAAAD6//n/BQABAAIAAQD7//n/BQABAAIAAAD8//n/BQACAAIAAAD9//n/BAAAAAIAAAD+//n/BAAEAAIAAAD///n/BAAIAAEAAAD2//f/BQAAAAAAAAD2//j/BQAAAAEAAAD3//f/BQABAAAAAAD3//j/BQABAAEAAAD4//f/BQABAAAAAQD4//j/BQABAAEAAQD5//f/BQABAAAAAAD5//j/BQABAAEAAAD6//f/BQABAAAAAQD6//j/BQABAAEAAQD7//f/BQABAAAAAAD7//j/BQABAAEAAAD8//f/BQACAAAAAAD8//j/BQACAAEAAAD9//f/BAAAAAAAAAD9//j/BAAAAAEAAAD+//f/BAABAAAAAAD+//j/BAABAAEAAAD///f/BAAHAAAAAAD///j/BAAHAAEAAADz//f/AwAAAAAAAADz//j/AwAAAAEAAADz//n/AwAAAAIAAAD0//f/AwABAAAAAAD0//j/AwABAAEAAAD0//n/AwABAAIAAAD1//f/AwACAAAAAAD1//j/AwACAAEAAAD1//n/AwACAAIAAADz//r/AwABAAAAAADz//v/AwABAAEAAADz//z/AwABAAIAAAD0//r/AwACAAAAAAD0//z/AwACAAIAAAD1//r/AwAAAAAAAAD1//v/AwAAAAIAAAD0//v/AwACAAEAAADx//r/AwACAAAAAADx//v/AwACAAEAAADx//z/AwACAAIAAADy//r/AwAAAAAAAADy//v/AwAAAAEAAADy//z/AwAAAAIAAAD0/wAAAwAAAAAAAAD0/wEAAwAAAAEAAAD0/wIAAwAAAAIAAAD1/wEAAwABAAEAAAD1/wIAAwABAAIAAADx/wAAAwAAAAAAAADx/wEAAwAAAAEAAADx/wIAAwAAAAIAAADy/wAAAwABAAAAAADy/wEAAwABAAEAAADy/wIAAwABAAIAAADz/wAAAwACAAAAAADz/wEAAwACAAEAAADz/wIAAwACAAIAAAD0/wMAAwAAAAAAAAD0/wQAAwAAAAEAAAD0/wUAAwAAAAIAAAD1/wMAAwABAAAAAAD1/wQAAwABAAEAAAD1/wUAAwABAAIAAAD2/wMAAwACAAAAAAD2/wQAAwACAAEAAAD2/wUAAwACAAIAAADx/wMAAwAAAAAAAADx/wQAAwAAAAEAAADx/wUAAwAAAAIAAADy/wMAAwABAAAAAADy/wQAAwABAAEAAADy/wUAAwABAAIAAADz/wMAAwACAAAAAADz/wQAAwACAAEAAADz/wUAAwACAAIAAADw//f/AwAAAAAAAADw//j/AwAAAAEAAADw//n/AwAAAAIAAADx//f/AwABAAAAAADx//j/AwABAAEAAADx//n/AwABAAIAAADy//f/AwACAAAAAADy//j/AwACAAEAAADy//n/AwACAAIAAAD0//T/AwAAAAAAAAD0//X/AwAAAAEAAAD0//b/AwAAAAIAAAD1//T/AwABAAAAAAD1//X/AwABAAEAAAD1//b/AwABAAIAAAD2//T/AwACAAAAAAD2//X/AwACAAEAAAD2//b/AwACAAIAAAD3//T/AwAAAAAAAAD3//X/AwAAAAEAAAD3//b/AwAAAAIAAAD4//T/AwABAAAAAAD4//X/AwABAAEAAAD4//b/AwABAAIAAAD5//T/AwACAAAAAAD5//X/AwACAAEAAAD5//b/AwACAAIAAAD6//T/AwAAAAAAAAD6//X/AwAAAAEAAAD6//b/AwAAAAIAAAD7//T/AwABAAAAAAD7//X/AwABAAEAAAD7//b/AwABAAIAAAD8//T/AwACAAAAAAD8//X/AwACAAEAAAD8//b/AwACAAIAAAD9//T/BAAAAAAAAAD9//X/BAAAAAEAAAD9//b/BAAAAAIAAAD+//T/BAABAAAAAAD+//X/BAABAAEAAAD+//b/BAABAAIAAADx//T/AwAAAAAAAADx//X/AwAAAAEAAADx//b/AwAAAAIAAADy//T/AwABAAAAAADy//X/AwABAAEAAADy//b/AwABAAIAAADz//T/AwACAAAAAADz//X/AwACAAEAAADz//b/AwACAAIAAAD2/wEAAwACAAEAAAD2/wIAAwACAAIAAAD2//r/AwABAAAAAAD2//v/AwABAAIAAAD3//r/AwABAAAAAQD3//v/AwABAAIAAQDv//r/AwAAAAAAAADv//v/AwAAAAEAAADv//z/AwAAAAIAAADw//r/AwABAAAAAADw//v/AwABAAEAAADw//z/AwABAAIAAAD1/wAAAwABAAAAAADw//3/AwAAAAAAAADw//7/AwAAAAEAAADw////AwAAAAIAAADx//3/AwABAAAAAADx//7/AwABAAEAAADx////AwABAAIAAADy//3/AwACAAAAAADy//7/AwACAAEAAADy////AwACAAIAAADz//3/AwAAAAAAAADz//7/AwAAAAEAAADz////AwAAAAIAAAD0//3/AwABAAAAAAD0//7/AwABAAEAAAD0////AwABAAIAAAD1//3/AwACAAAAAAD1//7/AwACAAEAAAD1////AwACAAIAAAD1//z/AwABAAEAAAD5//r/AwACAAAAAAD5//v/AwACAAIAAAD4//r/AwABAAAAAAD4//v/AwABAAIAAAD9//v/BQAAAAEAAAD9//z/BQAAAAEAAAD9//3/BQAAAAIAAAD9//r/BQAAAAAAAAD+//r/BQACAAAAAAD+//v/BQACAAEAAAD+//z/BQACAAEAAAD+//3/BQACAAIAAAD2/wAAAwACAAAAAAAAAPL/BAABAAEAAAAAAPP/BAABAAIAAAAAAPT/BAADAAAAAAAAAPX/BAADAAEAAAAAAPb/BAADAAIAAAAAAPf/BAAIAAAAAAAAAPj/BAAIAAIAAAAAAAEABQACAAAAAAAAAAIABQACAAEAAAAAAAMABQACAAIAAAABAPL/BAACAAEAAAABAPP/BAACAAIAAAABAPT/BAAEAAAAAAABAPX/BAAEAAEAAAABAPb/BAAEAAIAAAACAPL/BAADAAEAAAACAPP/BAADAAIAAAACAPT/BAAFAAAAAAACAPX/BAAFAAEAAAACAPb/BAAFAAIAAAADAPL/BAAEAAEAAAADAPP/BAAEAAIAAAADAPT/BAAGAAAAAAADAPX/BAAGAAEAAAADAPb/BAAGAAIAAAAEAPL/BAAFAAEAAAAEAPP/BAAFAAIAAAAEAPT/BAAHAAAAAAAEAPX/BAAHAAEAAAAEAPb/BAAHAAIAAAABAAAABQAAAAAAAAABAAEABQAAAAEAAAABAAIABQAAAAIAAAACAAAABQABAAAAAAACAAEABQABAAEAAAACAAIABQABAAIAAAADAAAABQACAAAAAAADAAEABQACAAEAAAADAAIABQACAAIAAAAEAP7/BQAAAAAAAAAEAP//BQAAAAEAAAAEAAAABQAAAAIAAAAFAP7/BQABAAAAAAAFAP//BQABAAEAAAAFAAAABQABAAIAAAAGAP7/BQACAAAAAAAGAP//BQACAAEAAAAGAAAABQACAAIAAAAEAPv/BQAAAAAAAAAEAPz/BQAAAAEAAAAEAP3/BQAAAAIAAAAFAPv/BQABAAAAAAAFAPz/BQABAAEAAAAFAP3/BQABAAIAAAAGAPv/BQACAAAAAAAGAPz/BQACAAEAAAAGAP3/BQACAAIAAAAEAAEABQAAAAAAAAAEAAIABQAAAAEAAAAEAAMABQAAAAIAAAAFAAEABQABAAAAAAAFAAIABQABAAEAAAAFAAMABQABAAIAAAAGAAEABQACAAAAAAAGAAIABQACAAEAAAAGAAMABQACAAIAAAABAAMABQAAAAAAAAABAAQABQAAAAEAAAABAAUABQAAAAIAAAACAAMABQABAAAAAAACAAQABQABAAEAAAACAAUABQABAAIAAAADAAMABQACAAAAAAADAAQABQACAAEAAAADAAUABQACAAIAAAD///T/BAACAAAAAAD///X/BAACAAEAAAD///b/BAACAAIAAAAFAPT/BAAIAAAAAAAFAPX/BAAIAAEAAAAFAPb/BAAIAAIAAAD///r/BAAIAAIAAAD///H/BAAAAAAAAAD///L/BAAAAAEAAAD///P/BAAAAAIAAAAAAPH/BAABAAAAAAABAPH/BAACAAAAAAACAPH/BAADAAAAAAADAPH/BAAEAAAAAAAEAPH/BAAFAAAAAAAFAPH/BAAGAAAAAAAFAPL/BAAGAAEAAAAFAPP/BAAGAAIAAAAGAPH/BAAHAAAAAAAGAPL/BAAHAAEAAAAGAPP/BAAHAAIAAAAHAPH/BAAIAAAAAAAHAPL/BAAIAAEAAAAHAPP/BAAIAAIAAAAGAPT/BAAAAAAAAAAGAPX/BAAAAAEAAAAGAPb/BAAAAAIAAAAHAPT/BAABAAAAAAAHAPX/BAABAAEAAAAHAPb/BAABAAIAAAAIAPT/BAACAAAAAAAIAPX/BAACAAEAAAAIAPb/BAACAAIAAAAJAPT/BAADAAAAAAAJAPX/BAADAAEAAAAJAPb/BAADAAIAAAAKAPT/BAAEAAAAAAAKAPX/BAAEAAEAAAAKAPb/BAAEAAIAAAALAPT/BAAFAAAAAAALAPX/BAAFAAEAAAALAPb/BAAFAAIAAAAMAPT/BAAGAAAAAAAMAPX/BAAGAAEAAAAMAPb/BAAGAAIAAAANAPT/BAAHAAAAAAANAPX/BAAHAAEAAAANAPb/BAAHAAIAAAAOAPT/BAAIAAAAAAAOAPX/BAAIAAEAAAAOAPb/BAAIAAIAAAAIAPH/BAAAAAAAAAAIAPL/BAAAAAEAAAAIAPP/BAAAAAIAAAAJAPH/BAABAAAAAAAJAPL/BAABAAEAAAAJAPP/BAABAAIAAAAKAPH/BAACAAAAAAAKAPL/BAACAAEAAAAKAPP/BAACAAIAAAALAPH/BAADAAAAAAALAPL/BAADAAEAAAALAPP/BAADAAIAAAAMAPH/BAAEAAAAAAAMAPL/BAAEAAEAAAAMAPP/BAAEAAIAAAANAPH/BAAFAAAAAAANAPL/BAAFAAEAAAANAPP/BAAFAAIAAAAOAPH/BAAGAAAAAAAOAPL/BAAGAAEAAAAOAPP/BAAGAAIAAAAPAPH/BAAHAAAAAAAPAPL/BAAHAAEAAAAPAPP/BAAHAAIAAAAQAPH/BAAIAAAAAAAQAPL/BAAIAAEAAAAQAPP/BAAIAAIAAAAHAPv/BAAAAAAAAAAHAPz/BAAAAAEAAAAHAP3/BAAAAAIAAAAIAPv/BAABAAAAAAAIAPz/BAABAAEAAAAIAP3/BAABAAIAAAAJAPv/BAACAAAAAAAJAPz/BAACAAEAAAAJAP3/BAACAAIAAAAKAPv/BAADAAAAAAAKAPz/BAADAAEAAAAKAP3/BAADAAIAAAALAPv/BAAEAAAAAAALAPz/BAAEAAEAAAALAP3/BAAEAAIAAAAMAPv/BAAFAAAAAAAMAPz/BAAFAAEAAAAMAP3/BAAFAAIAAAANAPv/BAAGAAAAAAANAPz/BAAGAAEAAAANAP3/BAAGAAIAAAAOAPv/BAAHAAAAAAAOAPz/BAAHAAEAAAAOAP3/BAAHAAIAAAAPAPv/BAAIAAAAAAAPAPz/BAAIAAEAAAAPAP3/BAAIAAIAAAAHAP7/BAAAAAAAAAAHAP//BAAAAAEAAAAHAAAABAAAAAIAAAAIAP7/BAABAAAAAAAIAP//BAABAAEAAAAIAAAABAABAAIAAAAJAP7/BAACAAAAAAAJAP//BAACAAEAAAAJAAAABAACAAIAAAAKAP7/BAADAAAAAAAKAP//BAADAAEAAAAKAAAABAADAAIAAAALAP7/BAAEAAAAAAALAP//BAAEAAEAAAALAAAABAAEAAIAAAAMAP7/BAAFAAAAAAAMAP//BAAFAAEAAAAMAAAABAAFAAIAAAANAP7/BAAGAAAAAAANAP//BAAGAAEAAAANAAAABAAGAAIAAAAOAP7/BAAHAAAAAAAOAP//BAAHAAEAAAAOAAAABAAHAAIAAAAPAP7/BAAIAAAAAAAPAP//BAAIAAEAAAAPAAAABAAIAAIAAAD6//r/AwABAAEAAAD7//r/AwABAAEAAAD8//r/AwABAAEAAAANAPf/AwAAAAAAAAAOAPf/AwABAAAAAAAPAPf/AwACAAAAAAANAPn/AwAAAAAAAAAOAPn/AwABAAAAAAAPAPn/AwACAAAAAAANAPj/AwAAAAIAAAAOAPj/AwABAAIAAAAPAPj/AwACAAIAAAANAPr/AwAAAAIAAAAOAPr/AwABAAIAAAAPAPr/AwACAAIAAAAPAPT/BQAAAAAAAAAPAPX/BQAAAAEAAAAPAPb/BQAAAAIAAAAQAPT/BQABAAAAAAAQAPX/BQABAAEAAAAQAPb/BQABAAIAAAARAPT/BQACAAAAAAARAPX/BQACAAEAAAARAPb/BQACAAIAAAAQAPf/BQAAAAAAAAAQAPj/BQAAAAEAAAAQAPn/BQAAAAIAAAARAPf/BQABAAAAAAARAPj/BQABAAEAAAARAPn/BQABAAIAAAASAPf/BQACAAAAAAASAPj/BQACAAEAAAASAPn/BQACAAIAAAARAPr/BQACAAAAAAARAPv/BQACAAEAAAARAPz/BQACAAIAAAAQAPr/BQAAAAAAAAAQAPv/BQAAAAEAAAAQAPz/BQAAAAIAAAAQAP3/AwAAAAAAAAAQAP7/AwAAAAEAAAAQAP//AwAAAAIAAAARAP3/AwABAAAAAAARAP7/AwABAAEAAAARAP//AwABAAIAAAASAP3/AwACAAAAAAASAP7/AwACAAEAAAASAP//AwACAAIAAAASAPr/AwAAAAAAAAASAPv/AwAAAAEAAAASAPz/AwAAAAIAAAATAPr/AwABAAAAAAATAPv/AwABAAEAAAATAPz/AwABAAIAAAAUAPr/AwACAAAAAAAUAPv/AwACAAEAAAAUAPz/AwACAAIAAAASAPT/AwAAAAAAAAASAPX/AwAAAAEAAAASAPb/AwAAAAIAAAATAPT/AwABAAAAAAATAPX/AwABAAEAAAATAPb/AwABAAIAAAAUAPT/AwACAAAAAAAUAPX/AwACAAEAAAAUAPb/AwACAAIAAAATAPf/AwAAAAAAAAATAPj/AwAAAAEAAAATAPn/AwAAAAIAAAAUAPf/AwABAAAAAAAUAPj/AwABAAEAAAAUAPn/AwABAAIAAAAVAPf/AwACAAAAAAAVAPj/AwACAAEAAAAVAPn/AwACAAIAAAALAPf/AwAAAAAAAAALAPj/AwAAAAEAAAALAPn/AwAAAAIAAAAMAPf/AwACAAAAAAAMAPj/AwACAAEAAAAMAPn/AwACAAIAAAA=")
tile_set = ExtResource("4_11ug5")
use_kinematic_bodies = true

[node name="Lever1" parent="Environment" instance=ExtResource("4_1ii6s")]
position = Vector2(-445, 41)
signal_name = &"lever_1"

[node name="IntroDoor" parent="Environment" instance=ExtResource("6_0r52n")]
position = Vector2(-200, -50)
signal_name = &"lever_1_1"
toggleable = true
displacement = Vector2(0, 300)

[node name="OneWayFloor" type="AnimatableBody2D" parent="Environment"]
position = Vector2(250, -502)
sync_to_physics = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="Environment/OneWayFloor"]
shape = SubResource("SegmentShape2D_jb65q")
one_way_collision = true

[node name="Line2D" type="Line2D" parent="Environment/OneWayFloor"]
points = PackedVector2Array(-200, 0, 200, 0)
width = 8.0
gradient = SubResource("Gradient_w51v1")

[node name="Button" parent="Environment" instance=ExtResource("7_403g8")]
position = Vector2(668, -580)
signal_name = &"button_0_1"
one_time_use = true

[node name="WADL" parent="." instance=ExtResource("1_yixew")]
position = Vector2(-750, -4)

[node name="Camera2D" type="Camera2D" parent="WADL"]
position = Vector2(0, -80)
position_smoothing_enabled = true
position_smoothing_speed = 10.0

[node name="PointLight2D" type="PointLight2D" parent="WADL"]
energy = 1.5
texture = SubResource("GradientTexture2D_btg2d")
texture_scale = 6.0

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.306923, 0.306923, 0.306923, 1)

[connection signal="unfocused" from="." to="WADL" method="_on_scale_layer_unfocused"]
